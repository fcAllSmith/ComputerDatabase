package com.excilys.computerdb.fconsigny.storage.connection;

import java.sql.Connection;
import java.sql.SQLException;

import org.springframework.beans.factory.annotation.Autowired;

import com.excilys.computerdb.fconsigny.storage.connection.datasource.IMysqlDatasource;
import com.excilys.computerdb.fconsigny.storage.database.MysqlDatabase;

public class DatabaseManager {

  private static DatabaseManager dbHandler;
  private static Connection connection;
  
  @Autowired
  static IMysqlDatasource iMysqlDatasource; 
 
  public static Connection getSession() {

    try {
      connection = iMysqlDatasource.getConnection();
      return connection = iMysqlDatasource.getConnection();
    } catch (ClassNotFoundException | SQLException e) {
      // TODO Auto-generated catch block
      e.printStackTrace();
      return null;
    }
    if (dbHandler == null) {
      dbHandler = new DatabaseManager();
    }

    try {
      
    } catch (ClassNotFoundException e) {
      // TODO Auto-generated catch block
      e.printStackTrace();
    } catch (SQLException e) {
      // TODO Auto-generated catch block
      e.printStackTrace();
    }
  }

}
